// Generated by CoffeeScript 1.6.3
(function() {
  var Freeper;

  Freeper = (function() {
    function Freeper() {}

    Freeper.prototype.doSomething = function() {
      FB.getLoginStatus(function(response) {
        if (response.status !== 'connected') {
          console.info('you are not authenticated');
          return;
        }
        console.info(response);
        FB.api('/me/friends', function(data) {
          return console.info(data.data);
        });
        return $.post('/api/friendlist/get/', {
          access_token: response.authResponse.accessToken
        }, function(data) {
          return console.info(data);
        });
      });
      return "FB.login((auth_response) ->\n  if auth_response.authResponse\n    FB.api('/me/friends', (data) ->\n      console.info(data.data)\n      #$.post '/api/friendlist/save/',\n        #data: JSON.stringify(data.data)\n    );\n  else\n    console.info(\"You didn't authenticate\")\n);";
    };

    return Freeper;

  })();

  window.Freeper = new Freeper();

  window.fbAsyncInit = function() {
    FB.init({
      appId: 371545839655510,
      status: true,
      cookie: true,
      xfbml: true,
      oauth: true
    });
    return window.Freeper.doSomething();
  };

}).call(this);
